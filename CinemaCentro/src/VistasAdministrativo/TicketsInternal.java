/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package VistasAdministrativo;

import Controlador.AsientoDAO;
import Controlador.ClienteDAO;
import Controlador.DetalleTicketDAO;
import Controlador.FuncionDAO;
import Modelo.Asiento;
import Modelo.Cliente;
import Modelo.DetalleTicket;
import Modelo.Funcion;
import Modelo.TicketDato;
import java.text.ParseException;
import java.text.SimpleDateFormat;
import java.util.List;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.SwingUtilities;
import javax.swing.event.ListSelectionEvent;
import javax.swing.event.ListSelectionListener;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import javax.swing.table.TableColumnModel;

/**
 *
 * @author Enzo_2
 */
public class TicketsInternal extends javax.swing.JInternalFrame {

    /**
     * Creates new form VentasInternal
     */
    List<TicketDato> listaDatosTickets;
    List<TicketDato> listaTicketsFiltrada;

    String[] cabeceraTickets = {"id_ticket", "DNI (Cliente)", "Nombre y apellido", "Pelicula", "Fecha función", "Hora inicio", "Hora fin",
        "Sala", "Asiento", "Medio de compra", "Fecha emisión", "Estado"};

    DetalleTicketDAO maniTickets = new DetalleTicketDAO();
    FuncionDAO maniFuncion = new FuncionDAO();
    ClienteDAO maniCliente = new ClienteDAO();
    AsientoDAO maniAsiento = new AsientoDAO();

    int idTicket = -1;

    public TicketsInternal() {
        initComponents();
        tblTickets.setModel(VentanaAdministrativo.armarCabeceras(cabeceraTickets));
        ocultarIDs();

        try {
            listaDatosTickets = maniTickets.listarDatosTickets();

        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, e.getMessage());
        }

        rellenarTablaTickets();
        agregarListener();
        deshabilitarBotones();
        grupoFiltros.add(checkFiltroFecha);
        grupoFiltros.add(checkFiltroDNI);
        grupoFiltros.add(FiltroPelicula);

        actualizarEstadoFiltros();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        grupoFiltros = new javax.swing.ButtonGroup();
        pnlVentas = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tblTickets = new javax.swing.JTable();
        txtFechaMin = new javax.swing.JTextField();
        lblEntre = new javax.swing.JLabel();
        txtFechaMax = new javax.swing.JTextField();
        txtDNICliente = new javax.swing.JTextField();
        btnBaja = new javax.swing.JButton();
        lblGestionTickets = new javax.swing.JLabel();
        btnModificar = new javax.swing.JButton();
        btnAlta = new javax.swing.JButton();
        txtNombrePelicula = new javax.swing.JTextField();
        checkFiltroDNI = new javax.swing.JCheckBox();
        FiltroPelicula = new javax.swing.JCheckBox();
        pnlDatosCliente = new javax.swing.JPanel();
        lblCliente = new javax.swing.JLabel();
        lblDNI = new javax.swing.JLabel();
        lblNombre = new javax.swing.JLabel();
        lblApellido = new javax.swing.JLabel();
        lblEstadoCliente = new javax.swing.JLabel();
        lblFechaNacimiento = new javax.swing.JLabel();
        pnlFuncion = new javax.swing.JPanel();
        lblFuncion = new javax.swing.JLabel();
        lblPelicula = new javax.swing.JLabel();
        lblIdioma = new javax.swing.JLabel();
        lblSala = new javax.swing.JLabel();
        lbl3D = new javax.swing.JLabel();
        lblHoraInicio = new javax.swing.JLabel();
        lblHoraFin = new javax.swing.JLabel();
        lblPrecio = new javax.swing.JLabel();
        lblFechaFuncion = new javax.swing.JLabel();
        lblSubtitulada = new javax.swing.JLabel();
        btnEliminar = new javax.swing.JButton();
        btnSalir = new javax.swing.JButton();
        lblCinemaCentro = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        checkFiltroFecha = new javax.swing.JCheckBox();

        pnlVentas.setBackground(new java.awt.Color(102, 0, 0));

        tblTickets.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        jScrollPane1.setViewportView(tblTickets);

        txtFechaMin.setText("yyyy-mm-dd");

        lblEntre.setForeground(new java.awt.Color(255, 255, 255));
        lblEntre.setText("Entre");

        txtFechaMax.setText("yyyy-mm-dd");

        txtDNICliente.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtDNIClienteKeyReleased(evt);
            }
        });

        btnBaja.setBackground(new java.awt.Color(70, 73, 75));
        btnBaja.setFont(new java.awt.Font("Roboto Black", 1, 13)); // NOI18N
        btnBaja.setForeground(new java.awt.Color(255, 255, 255));
        btnBaja.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/dar-baja.png"))); // NOI18N
        btnBaja.setText("Dar Baja");
        btnBaja.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnBajaActionPerformed(evt);
            }
        });

        lblGestionTickets.setFont(new java.awt.Font("Roboto Black", 1, 24)); // NOI18N
        lblGestionTickets.setForeground(new java.awt.Color(255, 255, 255));
        lblGestionTickets.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblGestionTickets.setText("GESTION DE TICKETS");

        btnModificar.setBackground(new java.awt.Color(70, 73, 75));
        btnModificar.setFont(new java.awt.Font("Roboto Black", 1, 13)); // NOI18N
        btnModificar.setForeground(new java.awt.Color(255, 255, 255));
        btnModificar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/modificar.png"))); // NOI18N
        btnModificar.setText("Modificar");
        btnModificar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnModificarActionPerformed(evt);
            }
        });

        btnAlta.setBackground(new java.awt.Color(70, 73, 75));
        btnAlta.setFont(new java.awt.Font("Roboto Black", 1, 13)); // NOI18N
        btnAlta.setForeground(new java.awt.Color(255, 255, 255));
        btnAlta.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/dar-alta.png"))); // NOI18N
        btnAlta.setText("Dar Alta");
        btnAlta.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnAltaActionPerformed(evt);
            }
        });

        txtNombrePelicula.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtNombrePeliculaKeyReleased(evt);
            }
        });

        checkFiltroDNI.setForeground(new java.awt.Color(255, 255, 255));
        checkFiltroDNI.setText("Filtrar por DNI:");
        checkFiltroDNI.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                checkFiltroDNIActionPerformed(evt);
            }
        });

        FiltroPelicula.setForeground(new java.awt.Color(255, 255, 255));
        FiltroPelicula.setText("Filtrar por Pelicula:");
        FiltroPelicula.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                FiltroPeliculaActionPerformed(evt);
            }
        });

        pnlDatosCliente.setBackground(new java.awt.Color(102, 0, 0));

        lblCliente.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        lblCliente.setForeground(new java.awt.Color(255, 255, 255));
        lblCliente.setText("Datos del Cliente:");

        lblDNI.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblDNI.setForeground(new java.awt.Color(255, 255, 255));
        lblDNI.setText("DNI: ");

        lblNombre.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblNombre.setForeground(new java.awt.Color(255, 255, 255));
        lblNombre.setText("Nombre: ");

        lblApellido.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblApellido.setForeground(new java.awt.Color(255, 255, 255));
        lblApellido.setText("Apellido: ");

        lblEstadoCliente.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblEstadoCliente.setForeground(new java.awt.Color(255, 255, 255));
        lblEstadoCliente.setText("Estado: ");

        lblFechaNacimiento.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblFechaNacimiento.setForeground(new java.awt.Color(255, 255, 255));
        lblFechaNacimiento.setText("Fecha de Nacimiento: ");

        pnlFuncion.setBackground(new java.awt.Color(102, 0, 0));

        lblFuncion.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        lblFuncion.setForeground(new java.awt.Color(255, 255, 255));
        lblFuncion.setText("Función Asignada al Ticket Seleccionado:");

        lblPelicula.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblPelicula.setForeground(new java.awt.Color(255, 255, 255));
        lblPelicula.setText("Película:");

        lblIdioma.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblIdioma.setForeground(new java.awt.Color(255, 255, 255));
        lblIdioma.setText("Idioma:");

        lblSala.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblSala.setForeground(new java.awt.Color(255, 255, 255));
        lblSala.setText("Sala:");

        lbl3D.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lbl3D.setForeground(new java.awt.Color(255, 255, 255));
        lbl3D.setText("3D:");

        lblHoraInicio.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblHoraInicio.setForeground(new java.awt.Color(255, 255, 255));
        lblHoraInicio.setText("Hora Inicio:");

        lblHoraFin.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblHoraFin.setForeground(new java.awt.Color(255, 255, 255));
        lblHoraFin.setText("Hora Fin:");

        lblPrecio.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblPrecio.setForeground(new java.awt.Color(255, 255, 255));
        lblPrecio.setText("Precio:");

        lblFechaFuncion.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblFechaFuncion.setForeground(new java.awt.Color(255, 255, 255));
        lblFechaFuncion.setText("Fecha Función:");

        lblSubtitulada.setFont(new java.awt.Font("Roboto Black", 1, 14)); // NOI18N
        lblSubtitulada.setForeground(new java.awt.Color(255, 255, 255));
        lblSubtitulada.setText("Subtitulada:");

        javax.swing.GroupLayout pnlFuncionLayout = new javax.swing.GroupLayout(pnlFuncion);
        pnlFuncion.setLayout(pnlFuncionLayout);
        pnlFuncionLayout.setHorizontalGroup(
            pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlFuncionLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblFuncion, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(pnlFuncionLayout.createSequentialGroup()
                        .addGroup(pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lbl3D, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(pnlFuncionLayout.createSequentialGroup()
                                .addGroup(pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lblSala, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblSubtitulada, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblFechaFuncion, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblPelicula, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(18, 18, 18)
                                .addGroup(pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(lblPrecio, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblIdioma, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblHoraFin, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(lblHoraInicio, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        pnlFuncionLayout.setVerticalGroup(
            pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, pnlFuncionLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(lblFuncion)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblSala, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblHoraInicio, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblHoraFin, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblPelicula, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblIdioma, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblSubtitulada, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlFuncionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblPrecio, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblFechaFuncion, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lbl3D, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout pnlDatosClienteLayout = new javax.swing.GroupLayout(pnlDatosCliente);
        pnlDatosCliente.setLayout(pnlDatosClienteLayout);
        pnlDatosClienteLayout.setHorizontalGroup(
            pnlDatosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlDatosClienteLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(pnlDatosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblCliente, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(pnlDatosClienteLayout.createSequentialGroup()
                        .addGroup(pnlDatosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(pnlDatosClienteLayout.createSequentialGroup()
                                .addComponent(lblDNI, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(lblFechaNacimiento, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(pnlDatosClienteLayout.createSequentialGroup()
                                .addComponent(lblNombre, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(lblEstadoCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(lblApellido, javax.swing.GroupLayout.PREFERRED_SIZE, 350, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
            .addGroup(pnlDatosClienteLayout.createSequentialGroup()
                .addComponent(pnlFuncion, javax.swing.GroupLayout.PREFERRED_SIZE, 635, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        pnlDatosClienteLayout.setVerticalGroup(
            pnlDatosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlDatosClienteLayout.createSequentialGroup()
                .addComponent(lblCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlDatosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblDNI, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblFechaNacimiento, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(pnlDatosClienteLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblEstadoCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblNombre, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lblApellido, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(pnlFuncion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        btnEliminar.setBackground(new java.awt.Color(70, 73, 75));
        btnEliminar.setFont(new java.awt.Font("Roboto Black", 1, 13)); // NOI18N
        btnEliminar.setForeground(new java.awt.Color(255, 255, 255));
        btnEliminar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/eliminar.png"))); // NOI18N
        btnEliminar.setText("Eliminar");
        btnEliminar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnEliminarActionPerformed(evt);
            }
        });

        btnSalir.setBackground(new java.awt.Color(70, 73, 75));
        btnSalir.setFont(new java.awt.Font("Roboto Black", 1, 13)); // NOI18N
        btnSalir.setForeground(new java.awt.Color(255, 255, 255));
        btnSalir.setText("Salir");
        btnSalir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSalirActionPerformed(evt);
            }
        });

        lblCinemaCentro.setFont(new java.awt.Font("Roboto Black", 1, 36)); // NOI18N
        lblCinemaCentro.setForeground(new java.awt.Color(255, 255, 255));
        lblCinemaCentro.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblCinemaCentro.setText("CinemaCentro");

        jButton1.setText("Buscar");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        checkFiltroFecha.setForeground(new java.awt.Color(255, 255, 255));
        checkFiltroFecha.setText("Filtrar por fecha");
        checkFiltroFecha.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                checkFiltroFechaActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout pnlVentasLayout = new javax.swing.GroupLayout(pnlVentas);
        pnlVentas.setLayout(pnlVentasLayout);
        pnlVentasLayout.setHorizontalGroup(
            pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlVentasLayout.createSequentialGroup()
                .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(pnlVentasLayout.createSequentialGroup()
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(pnlVentasLayout.createSequentialGroup()
                                .addComponent(pnlDatosCliente, javax.swing.GroupLayout.PREFERRED_SIZE, 635, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addGroup(pnlVentasLayout.createSequentialGroup()
                                        .addGap(0, 0, Short.MAX_VALUE)
                                        .addComponent(btnSalir))
                                    .addGroup(pnlVentasLayout.createSequentialGroup()
                                        .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                            .addComponent(btnAlta, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(btnBaja, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(btnModificar, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 160, Short.MAX_VALUE)
                                            .addComponent(btnEliminar, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                        .addGap(0, 268, Short.MAX_VALUE))))
                            .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 1049, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(pnlVentasLayout.createSequentialGroup()
                        .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(pnlVentasLayout.createSequentialGroup()
                                .addGap(0, 0, Short.MAX_VALUE)
                                .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(pnlVentasLayout.createSequentialGroup()
                                        .addGap(18, 18, 18)
                                        .addComponent(checkFiltroDNI)
                                        .addGap(68, 68, 68)
                                        .addComponent(FiltroPelicula)
                                        .addGap(109, 109, 109)
                                        .addComponent(checkFiltroFecha))
                                    .addGroup(pnlVentasLayout.createSequentialGroup()
                                        .addComponent(txtDNICliente, javax.swing.GroupLayout.PREFERRED_SIZE, 145, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(18, 18, 18)
                                        .addComponent(txtNombrePelicula, javax.swing.GroupLayout.PREFERRED_SIZE, 191, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(18, 18, 18)
                                        .addComponent(txtFechaMin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(14, 14, 14)
                                        .addComponent(lblEntre)
                                        .addGap(9, 9, 9)
                                        .addComponent(txtFechaMax, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addComponent(jButton1))))
                            .addComponent(lblGestionTickets, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(lblCinemaCentro)))
                .addGap(0, 30, Short.MAX_VALUE))
        );
        pnlVentasLayout.setVerticalGroup(
            pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(pnlVentasLayout.createSequentialGroup()
                .addGap(6, 6, 6)
                .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(lblGestionTickets, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblCinemaCentro))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlVentasLayout.createSequentialGroup()
                        .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(checkFiltroFecha)
                            .addComponent(checkFiltroDNI, javax.swing.GroupLayout.Alignment.TRAILING))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(txtNombrePelicula, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtDNICliente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtFechaMax, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblEntre)
                            .addComponent(txtFechaMin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jButton1)))
                    .addComponent(FiltroPelicula))
                .addGap(13, 13, 13)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 255, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGroup(pnlVentasLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(pnlVentasLayout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addComponent(pnlDatosCliente, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(pnlVentasLayout.createSequentialGroup()
                        .addGap(7, 7, 7)
                        .addComponent(btnSalir)
                        .addGap(51, 51, 51)
                        .addComponent(btnAlta)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btnBaja)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btnModificar)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btnEliminar)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(pnlVentas, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(pnlVentas, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void checkFiltroDNIActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_checkFiltroDNIActionPerformed
        actualizarEstadoFiltros();

    }//GEN-LAST:event_checkFiltroDNIActionPerformed

    private void FiltroPeliculaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_FiltroPeliculaActionPerformed
        actualizarEstadoFiltros();
    }//GEN-LAST:event_FiltroPeliculaActionPerformed

    private void btnAltaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnAltaActionPerformed
        try {
            int filaS = tblTickets.getSelectedRow();

            if (filaS > -1) {
                String estado = (String) tblTickets.getValueAt(filaS, 11);
                if (estado.equalsIgnoreCase("activa")) {
                    JOptionPane.showMessageDialog(this, "Este ticket ya esta activo.");

                } else {
                    maniTickets.darAlta(idTicket);
                    listaDatosTickets = maniTickets.listarDatosTickets();
                    JOptionPane.showMessageDialog(this, "Dada de alta exitosa.");
                }
            }

        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, e);
        } finally {
            rellenarTablaTickets();
        }

    }//GEN-LAST:event_btnAltaActionPerformed

    private void btnBajaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnBajaActionPerformed
        try {
            int filaS = tblTickets.getSelectedRow();

            if (filaS > -1) {
                String estado = (String) tblTickets.getValueAt(filaS, 11);
                if (estado.equalsIgnoreCase("inactiva")) {
                    JOptionPane.showMessageDialog(this, "Este ticket ya esta inactivo.");

                } else {
                    maniTickets.darBaja(idTicket);
                    listaDatosTickets = maniTickets.listarDatosTickets();
                    JOptionPane.showMessageDialog(this, "Dada de baja exitosa.");
                }
            }
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, e);
        } finally {
            rellenarTablaTickets();
        }
    }//GEN-LAST:event_btnBajaActionPerformed

    private void btnModificarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnModificarActionPerformed
        try {

            DetalleTicket ticket = maniTickets.buscarPorId(idTicket);
            JFrame padre = (JFrame) SwingUtilities.getWindowAncestor(this);
            DialogCambiarFuncion ventanaFuncion = new DialogCambiarFuncion(padre, true);
            ventanaFuncion.setVisible(true);
            boolean estadoAccion = ventanaFuncion.isEstadoExito();

            if (estadoAccion) {

                int idFuncionCambiada = ventanaFuncion.getIdFuncion();
                Funcion fun = maniFuncion.buscarFuncionPorId(idFuncionCambiada);
                DialogAsientos ventanaAsientos = new DialogAsientos(padre, true, fun.getNro_Sala());
                ventanaAsientos.setVisible(true);
                Asiento asientoNuevo = ventanaAsientos.getAsientoSeleccionado();

                if (asientoNuevo != null) {
                    Asiento asientoAntiguo = maniAsiento.buscarPorId(ticket.getId_asiento());
                    maniAsiento.darAlta(asientoAntiguo.getId_asiento());
                    DetalleTicket ticketCambiado = ticket;
                    ticketCambiado.setId_asiento(asientoNuevo.getId_asiento());
                    ticketCambiado.setId_funcion(fun.getId_Funcion());

                    maniTickets.modificarTicket(idTicket, ticketCambiado);
                } else {
                    JOptionPane.showMessageDialog(this, "Cambio cancelado.");

                }

            }
            listaDatosTickets = maniTickets.listarDatosTickets();

        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, "Error al intentar modificar el ticket.");
        } finally {
            rellenarTablaTickets();
        }
    }//GEN-LAST:event_btnModificarActionPerformed

    private void btnEliminarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnEliminarActionPerformed
        try {
            maniTickets.eliminarTicket(idTicket);
            listaDatosTickets = maniTickets.listarDatosTickets();
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, e);
        } finally {
            rellenarTablaTickets();
        }
    }//GEN-LAST:event_btnEliminarActionPerformed

    private void btnSalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSalirActionPerformed
        dispose();
    }//GEN-LAST:event_btnSalirActionPerformed

    private void txtDNIClienteKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtDNIClienteKeyReleased
        String dniText = txtDNICliente.getText();
        if (dniText.isEmpty()) {
            rellenarTablaTickets();
            return;
        }
        try {

            int dni = Integer.parseInt(dniText);

            DefaultTableModel modelo = (DefaultTableModel) tblTickets.getModel();
            modelo.setRowCount(0);

            for (TicketDato dt : listaDatosTickets) {
                if (dt.getDNI().toString().startsWith(Integer.toString(dni))) {
                    Object dniMostrado;
                    if (dt.getDNI() == 0) {
                        dniMostrado = "Eliminado o anonimo.";
                    } else {
                        dniMostrado = dt.getDNI();
                    }
                    modelo.addRow(new Object[]{
                        dt.getIdTicket(),
                        dniMostrado,
                        dt.getNombreApellidoCliente(),
                        dt.getPeliculaTitulo(),
                        dt.getFechaFuncion(),
                        dt.getHoraInicio(),
                        dt.getHoraFin(),
                        dt.getNroSala(),
                        dt.getAsiento(),
                        dt.getMedioCompra(),
                        dt.getFechaEmision(),
                        parsearBooleanAACTIVAINACTIVA(dt.isEstado())
                    });
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }//GEN-LAST:event_txtDNIClienteKeyReleased

    private void txtNombrePeliculaKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtNombrePeliculaKeyReleased
        String nombreP = txtNombrePelicula.getText();
        if (nombreP.isEmpty()) {
            rellenarTablaTickets();
            return;
        }
        try {

            DefaultTableModel modelo = (DefaultTableModel) tblTickets.getModel();
            modelo.setRowCount(0);

            for (TicketDato dt : listaDatosTickets) {
                if (dt.getPeliculaTitulo().toLowerCase().startsWith(nombreP)) {
                    Object dniMostrado;
                    if (dt.getDNI() == 0) {
                        dniMostrado = "Eliminado o anonimo.";
                    } else {
                        dniMostrado = dt.getDNI();
                    }
                    modelo.addRow(new Object[]{
                        dt.getIdTicket(),
                        dniMostrado,
                        dt.getNombreApellidoCliente(),
                        dt.getPeliculaTitulo(),
                        dt.getFechaFuncion(),
                        dt.getHoraInicio(),
                        dt.getHoraFin(),
                        dt.getNroSala(),
                        dt.getAsiento(),
                        dt.getMedioCompra(),
                        dt.getFechaEmision(),
                        parsearBooleanAACTIVAINACTIVA(dt.isEstado())
                    });
                }
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }//GEN-LAST:event_txtNombrePeliculaKeyReleased

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        filtrarTicketsPorFecha();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void checkFiltroFechaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_checkFiltroFechaActionPerformed
        actualizarEstadoFiltros();
    }//GEN-LAST:event_checkFiltroFechaActionPerformed

    public void filtrarTicketsPorFecha() {
        String fechaMin = txtFechaMin.getText().trim();
        String fechaMax = txtFechaMax.getText().trim();

        if (fechaMin.isEmpty() || fechaMax.isEmpty()) {
            rellenarTablaTickets();
            return;
        }

        SimpleDateFormat formatoFecha = new SimpleDateFormat("yyyy-MM-dd");
        java.util.Date fechaMinFiltro = null;
        java.util.Date fechaMaxFiltro = null;

        try {
            fechaMinFiltro = formatoFecha.parse(fechaMin);
            fechaMaxFiltro = formatoFecha.parse(fechaMax);

            java.util.Calendar cal = java.util.Calendar.getInstance();
            cal.setTime(fechaMaxFiltro);
            cal.add(java.util.Calendar.DATE, 1);
            fechaMaxFiltro = cal.getTime();

        } catch (ParseException e) {
            JOptionPane.showMessageDialog(this, "Error en el formato de fecha. Use yyyy-MM-dd.");
            e.printStackTrace();
            return;
        }

        DefaultTableModel modelo = (DefaultTableModel) tblTickets.getModel();
        modelo.setRowCount(0);

        for (TicketDato dt : listaDatosTickets) {
            try {
                // parseo la fecha del ticket
                java.util.Date fechaTicket = formatoFecha.parse(dt.getFechaEmision());

                // se fija si la fecha del ticket esta dentro del rango
                if (!fechaTicket.before(fechaMinFiltro) && fechaTicket.before(fechaMaxFiltro)) {
                    Object dniMostrado;
                    if (dt.getDNI() == 0) {
                        dniMostrado = "Eliminado o anonimo.";
                    } else {
                        dniMostrado = dt.getDNI();
                    }
                    modelo.addRow(new Object[]{
                        dt.getIdTicket(),
                        dniMostrado,
                        dt.getNombreApellidoCliente(),
                        dt.getPeliculaTitulo(),
                        dt.getFechaFuncion(),
                        dt.getHoraInicio(),
                        dt.getHoraFin(),
                        dt.getNroSala(),
                        dt.getAsiento(),
                        dt.getMedioCompra(),
                        dt.getFechaEmision(),
                        parsearBooleanAACTIVAINACTIVA(dt.isEstado())
                    });
                }
            } catch (ParseException e) {
                System.err.println("Error al parsear fecha del ticket: " + dt.getFechaEmision());
            }
        }
    }

    public void ocultarIDs() {

        TableColumnModel modeloColumnasF = tblTickets.getColumnModel();
        TableColumn columnaF = modeloColumnasF.getColumn(0);

        columnaF.setMaxWidth(0);
        columnaF.setMinWidth(0);
        columnaF.setPreferredWidth(0);
        columnaF.setResizable(false);
    }

    public void rellenarTablaTickets() {
        DefaultTableModel modelo = (DefaultTableModel) tblTickets.getModel();
        modelo.setRowCount(0);

        for (TicketDato dt : listaDatosTickets) {

            Object dniMostrado;
            if (dt.getDNI() == 0) {
                dniMostrado = "Eliminado o anonimo.";
            } else {
                dniMostrado = dt.getDNI();
            }
            modelo.addRow(new Object[]{
                dt.getIdTicket(),
                dniMostrado,
                dt.getNombreApellidoCliente(),
                dt.getPeliculaTitulo(),
                dt.getFechaFuncion(),
                dt.getHoraInicio(),
                dt.getHoraFin(),
                dt.getNroSala(),
                dt.getAsiento(),
                dt.getMedioCompra(),
                dt.getFechaEmision(),
                parsearBooleanAACTIVAINACTIVA(dt.isEstado())
            });
        }
    }

    public String parsearBooleanAACTIVAINACTIVA(boolean estado) {
        if (estado) {
            return "Activa";
        }
        return "Inactiva";
    }

    public boolean parsearStringACTIVAINACTIVA(String estado) {
        return estado.equalsIgnoreCase("Activa");
    }

    public String parsearBooleanASINO(boolean estado) {
        if (estado) {
            return "Si";
        }
        return "No";
    }

    public boolean parsearStringSINO(String estado) {
        return estado.equalsIgnoreCase("Si");
    }

    public void agregarListener() {
        tblTickets.getSelectionModel().addListSelectionListener(new ListSelectionListener() {
            @Override
            public void valueChanged(ListSelectionEvent evento) {
                if (evento.getValueIsAdjusting()) {
                    return;
                }
                int filaS = tblTickets.getSelectedRow();

                if (filaS > -1) {
                    idTicket = (int) tblTickets.getValueAt(filaS, 0);
                    try {
                        DetalleTicket ticket = maniTickets.buscarPorId(idTicket);

                        if (tblTickets.getValueAt(filaS, 3).toString().equalsIgnoreCase("Pelicula o función eliminada.")) {
                            lblPelicula.setText("Pelicula: Eliminada la función o pelicula");
                        } else {
                            Funcion fun = maniFuncion.buscarFuncionPorId(ticket.getId_funcion());
                            lblSala.setText("Sala: " + Integer.toString(fun.getNro_Sala()));
                            lblPelicula.setText("Pelicula: " + (String) tblTickets.getValueAt(filaS, 3));
                            lblSubtitulada.setText("Subtitulada: " + parsearBooleanASINO(fun.isSubtitulada()));
                            lblFechaFuncion.setText("Fecha funcion: " + (String) tblTickets.getValueAt(filaS, 4));
                            lbl3D.setText("3D: " + parsearBooleanASINO(fun.isEs3D()));
                            lblHoraInicio.setText("Hora inicio: " + (String) tblTickets.getValueAt(filaS, 5));
                            lblHoraFin.setText("Hora fin: " + (String) tblTickets.getValueAt(filaS, 6));
                            lblPrecio.setText("Precio entrada: " + Double.toString(fun.getPrecio_Entrada()));
                        }

                        Object dniTabla = tblTickets.getValueAt(filaS, 1);

                        if (dniTabla instanceof String) {
                            lblDNI.setText("DNI: ------");
                            lblNombre.setText("Nombre: ------");
                            lblApellido.setText("Apellido: ------");
                            lblFechaNacimiento.setText("Fecha de Nacimiento: ------");
                            lblEstadoCliente.setText("Estado: ------");

                        } else if (dniTabla instanceof Integer) {
                            int dniCliente = (Integer) dniTabla;
                            Cliente cliente = maniCliente.buscarClientePorDNI(dniCliente);
                            lblDNI.setText("DNI: " + Integer.toString(cliente.getDni()));
                            lblNombre.setText("Nombre: " + cliente.getNombre());
                            lblApellido.setText("Apellido: " + cliente.getApellido());
                            lblFechaNacimiento.setText("Fecha de Nacimiento: " + cliente.getFecha_nacimiento().toString());
                            lblEstadoCliente.setText("Estado: " + parsearBooleanAACTIVAINACTIVA(cliente.isEstado()));

                        }

                        habilitarBotones();

                    } catch (Exception e) {
                        e.printStackTrace();
                    }
                } else {
                    deshabilitarBotones();
                }
            }
        });
    }

    public void habilitarBotones() {
        btnAlta.setEnabled(true);
        btnBaja.setEnabled(true);
        btnModificar.setEnabled(true);
        btnEliminar.setEnabled(true);

    }

    public void deshabilitarBotones() {
        btnAlta.setEnabled(false);
        btnBaja.setEnabled(false);
        btnModificar.setEnabled(false);
        btnEliminar.setEnabled(false);
    }

    public void actualizarEstadoFiltros() {
        // la onda acá es que solo un filtro este activo a la vez
        txtFechaMin.setEnabled(false);
        txtFechaMax.setEnabled(false);
        txtDNICliente.setEnabled(false);
        txtNombrePelicula.setEnabled(false);

        if (!checkFiltroFecha.isSelected()) {
            txtFechaMin.setText("yyyy-mm-dd");
            txtFechaMax.setText("yyyy-mm-dd");
        }
        if (!checkFiltroDNI.isSelected()) {
            txtDNICliente.setText("");
        }
        if (!FiltroPelicula.isSelected()) {
            txtNombrePelicula.setText("");
        }

        // activa solo el campo correspondiente al filtro
        if (checkFiltroFecha.isSelected()) {
            txtFechaMin.setEnabled(true);
            txtFechaMax.setEnabled(true);
        } else if (checkFiltroDNI.isSelected()) {
            txtDNICliente.setEnabled(true);
        } else if (FiltroPelicula.isSelected()) {
            txtNombrePelicula.setEnabled(true);
        }
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JCheckBox FiltroPelicula;
    private javax.swing.JButton btnAlta;
    private javax.swing.JButton btnBaja;
    private javax.swing.JButton btnEliminar;
    private javax.swing.JButton btnModificar;
    private javax.swing.JButton btnSalir;
    private javax.swing.JCheckBox checkFiltroDNI;
    private javax.swing.JCheckBox checkFiltroFecha;
    private javax.swing.ButtonGroup grupoFiltros;
    private javax.swing.JButton jButton1;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lbl3D;
    private javax.swing.JLabel lblApellido;
    private javax.swing.JLabel lblCinemaCentro;
    private javax.swing.JLabel lblCliente;
    private javax.swing.JLabel lblDNI;
    private javax.swing.JLabel lblEntre;
    private javax.swing.JLabel lblEstadoCliente;
    private javax.swing.JLabel lblFechaFuncion;
    private javax.swing.JLabel lblFechaNacimiento;
    private javax.swing.JLabel lblFuncion;
    private javax.swing.JLabel lblGestionTickets;
    private javax.swing.JLabel lblHoraFin;
    private javax.swing.JLabel lblHoraInicio;
    private javax.swing.JLabel lblIdioma;
    private javax.swing.JLabel lblNombre;
    private javax.swing.JLabel lblPelicula;
    private javax.swing.JLabel lblPrecio;
    private javax.swing.JLabel lblSala;
    private javax.swing.JLabel lblSubtitulada;
    private javax.swing.JPanel pnlDatosCliente;
    private javax.swing.JPanel pnlFuncion;
    private javax.swing.JPanel pnlVentas;
    private javax.swing.JTable tblTickets;
    private javax.swing.JTextField txtDNICliente;
    private javax.swing.JTextField txtFechaMax;
    private javax.swing.JTextField txtFechaMin;
    private javax.swing.JTextField txtNombrePelicula;
    // End of variables declaration//GEN-END:variables
}
